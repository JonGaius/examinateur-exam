{"ast":null,"code":"var _jsxFileName = \"/Users/jonathangaiuskambire/Documents/sigepec/correction/examinateur/src/views/page/auth/Login.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport AuthLayout from '../../layout/AuthLayout';\nimport auth from \"../../../assets/images/auth.png\";\nimport NoticeForm from '../../components/card/NoticeForm';\nimport DangerIcon from '../../../assets/icons/ui/DangerIcon';\nimport AuthTextfield from '../../components/textfield/AuthTextfield';\nimport AuthPasswordField from '../../components/textfield/AuthPasswordField';\nimport FormButton from '../../components/button/FormButton';\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from '../../../features/auth/authSlice';\nimport { links } from \"../../../router/constant\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [errors, setErrors] = useState(\"\");\n  const [styleBtn, setStyleBtn] = useState(\"disable\");\n  const [messageBtn, setMessageBtn] = useState(\"Se connecter\");\n  let navigate = useNavigate();\n  const dispatch = useDispatch();\n  const {\n    user,\n    isLoading,\n    isError,\n    isSuccess,\n    message\n  } = useSelector(state => state.auth);\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (email && password) {\n      setErrors(\"\");\n      setMessageBtn(\"Veuillez patienter un instant\");\n      setStyleBtn(\"disable\");\n      const data = {\n        email,\n        password\n      };\n      dispatch(login(data));\n    } else {\n      setErrors(\"Veuillez renseigner tous les champs...\");\n      setMessageBtn(\"Se connecter\");\n      setStyleBtn(\"disable\");\n    }\n  };\n  useEffect(() => {\n    if (email && password) {\n      setStyleBtn(\"primary\");\n    } else {\n      setStyleBtn(\"disable\");\n    }\n    if (user) {\n      navigate(links.home);\n    }\n    if (isError) {\n      // setErrors(message)\n      setMessageBtn(\"Se connecter\");\n      setStyleBtn('primary');\n    }\n    if (isSuccess) {\n      window.location.reload();\n    }\n    if (isLoading) {\n      setMessageBtn(\"Veuillez patienter un instant\");\n      setStyleBtn(\"disable\");\n    }\n  }, [email, password, user, navigate, isError, isSuccess, isLoading]);\n  return /*#__PURE__*/_jsxDEV(AuthLayout, {\n    image: auth,\n    title: \"Connexion\",\n    subtitle: \"Accès réservés\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"sigepec-auth-form\",\n      onSubmit: handleSubmit,\n      children: [errors && /*#__PURE__*/_jsxDEV(NoticeForm, {\n        status: \"danger\",\n        Icon: DangerIcon,\n        typo: true,\n        title: \"Oupss!!\",\n        children: errors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }, this), isError && /*#__PURE__*/_jsxDEV(NoticeForm, {\n        status: \"danger\",\n        Icon: DangerIcon,\n        typo: true,\n        title: \"Oupss!!\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 25\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `sigepec-form-alert is--load`,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sigepec-form-alert__container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sigepec-form-alert__icon\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"load\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sigepec-form-alert__text\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Connexion en cours\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Veuillez patienter un instant le temps que nous établissions une connexion...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sigepec-auth-form__container\",\n        children: [/*#__PURE__*/_jsxDEV(AuthTextfield, {\n          id: \"email\",\n          dvalue: email,\n          fnc: setEmail,\n          type: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(AuthPasswordField, {\n          id: \"password\",\n          dvalue: password,\n          fnc: setPassword,\n          children: \"Mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sigepec-auth-form__action\",\n        children: /*#__PURE__*/_jsxDEV(FormButton, {\n          type: \"submit\",\n          mStyle: styleBtn,\n          children: messageBtn\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"sigepec-auth-form__info\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"mailto:admin-sigepec@dgttm.com\",\n            target: \"_blank\",\n            rel: \"noreferrer\",\n            children: \"Mot de passe oubli\\xE9?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 24\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"9ApSxvNzX1PSRNk+aCVns1dM/vM=\", false, function () {\n  return [useNavigate, useDispatch, useSelector];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","AuthLayout","auth","NoticeForm","DangerIcon","AuthTextfield","AuthPasswordField","FormButton","useNavigate","useDispatch","useSelector","login","links","Login","email","setEmail","password","setPassword","errors","setErrors","styleBtn","setStyleBtn","messageBtn","setMessageBtn","navigate","dispatch","user","isLoading","isError","isSuccess","message","state","handleSubmit","e","preventDefault","data","home","window","location","reload"],"sources":["/Users/jonathangaiuskambire/Documents/sigepec/correction/examinateur/src/views/page/auth/Login.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport AuthLayout from '../../layout/AuthLayout';\nimport auth from \"../../../assets/images/auth.png\";\nimport NoticeForm from '../../components/card/NoticeForm';\nimport DangerIcon from '../../../assets/icons/ui/DangerIcon';\nimport AuthTextfield from '../../components/textfield/AuthTextfield';\nimport AuthPasswordField from '../../components/textfield/AuthPasswordField';\nimport FormButton from '../../components/button/FormButton';\n\nimport {useNavigate} from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport { login } from '../../../features/auth/authSlice';\nimport {links} from \"../../../router/constant\";\n\nconst Login = () => {\n    const [email, setEmail] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [errors, setErrors] = useState(\"\")\n\n    const [styleBtn, setStyleBtn] = useState(\"disable\")\n    const [messageBtn, setMessageBtn] = useState(\"Se connecter\")\n\n    let navigate = useNavigate();\n    const dispatch = useDispatch()\n    const {user, isLoading, isError, isSuccess, message} = useSelector(\n        (state) => state.auth\n    )\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(email && password){\n            setErrors(\"\")\n            setMessageBtn(\"Veuillez patienter un instant\")\n            setStyleBtn(\"disable\")\n\n            const data = {\n                email,\n                password\n            }\n            dispatch(login(data))\n        }else{\n            setErrors(\"Veuillez renseigner tous les champs...\")\n            setMessageBtn(\"Se connecter\")\n            setStyleBtn(\"disable\")\n        }\n    }\n\n    useEffect(() => {\n        if(email && password){\n            setStyleBtn(\"primary\")\n        }else{\n            setStyleBtn(\"disable\")\n        }\n        if(user){\n            navigate(links.home)\n        }\n        if(isError){\n            // setErrors(message)\n            setMessageBtn(\"Se connecter\")\n            setStyleBtn('primary');\n        }\n        if(isSuccess){\n            window.location.reload()\n        }\n        if(isLoading){\n            setMessageBtn(\"Veuillez patienter un instant\")\n            setStyleBtn(\"disable\")\n        }\n    },[email, password, user, navigate, isError,isSuccess, isLoading])\n\n    return (\n        <AuthLayout image={auth} title={\"Connexion\"} subtitle={\"Accès réservés\"}>\n            <form className='sigepec-auth-form' onSubmit={handleSubmit}>\n\n                {\n                    errors && (\n                        <NoticeForm status={\"danger\"} Icon={DangerIcon} typo={true} title={\"Oupss!!\"}>\n                            {errors}\n                        </NoticeForm>\n                    )\n                }{\n                    isError && (\n                        <NoticeForm status={\"danger\"} Icon={DangerIcon} typo={true} title={\"Oupss!!\"}>\n                            {message}\n                        </NoticeForm>\n                    )\n                }\n                {\n                    isLoading && (\n                        <div className={`sigepec-form-alert is--load`}>\n                            <div className='sigepec-form-alert__container'>\n                                <div className='sigepec-form-alert__icon'>\n                                    <div className='load'></div>\n                                </div>\n                                <div className='sigepec-form-alert__text'>\n                                    <strong>{\"Connexion en cours\"}</strong>\n                                    <p>{\"Veuillez patienter un instant le temps que nous établissions une connexion...\"}</p>\n                                </div>\n                                \n                            </div>\n                        </div>\n                    )\n                }\n\n                <div className='sigepec-auth-form__container'>\n                    <AuthTextfield id={\"email\"} dvalue={email} fnc={setEmail} type=\"email\">\n                        Email\n                    </AuthTextfield>\n                    <AuthPasswordField id={\"password\"} dvalue={password} fnc={setPassword}>\n                        Mot de passe\n                    </AuthPasswordField>\n                </div>\n                <div className='sigepec-auth-form__action'>\n                    <FormButton type={\"submit\"} mStyle={styleBtn}>\n                        {messageBtn}\n                    </FormButton>\n                </div>\n                <div className='sigepec-auth-form__info'>\n                    <p><a href=\"mailto:admin-sigepec@dgttm.com\" target={\"_blank\"} rel=\"noreferrer\">Mot de passe oublié?</a></p>\n                </div>\n            </form>\n        </AuthLayout>\n    );\n};\n\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module"}